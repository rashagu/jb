var e=Object.defineProperty,n=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(n,a,t)=>a in n?e(n,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[a]=t,i=(e,n)=>{for(var a in n||(n={}))r.call(n,a)&&l(e,a,n[a]);if(t)for(var a of t(n))o.call(n,a)&&l(e,a,n[a]);return e},u=(e,t)=>n(e,a(t)),s=(e,n)=>{var a={};for(var l in e)r.call(e,l)&&n.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&t)for(var l of t(e))n.indexOf(l)<0&&o.call(e,l)&&(a[l]=e[l]);return a};import{d as c,av as d,aw as v,p as f,ax as m,a1 as p,a3 as g,q as h,ae as y,ay as E,f as w,r as _,j as O,k as T,w as b,l as L,y as I}from"./vendor.f737c1cc.js";const R={},S=Symbol("GLOBAL_OPTIONS_PROVIDE_KEY"),j=()=>R;c({name:"RequestConfig",props:{config:{type:Object,required:!0}},setup(e,{slots:n}){const{config:a}=e;return d(S,a),()=>{var e;return null===(e=n.default)||void 0===e?void 0:e.call(n)}}});const D=Object.prototype.toString,K=e=>D.call(e),A=e=>"[object String]"===K(e),M=e=>"[object Object]"===K(e),q=e=>null!==e&&"object"==typeof e,F=e=>e instanceof Function,U=e=>null==e,k="undefined"==typeof window,x=()=>{var e,n;return!k&&"visible"===(null===(e=window)||void 0===e||null===(n=e.document)||void 0===n?void 0:n.visibilityState)},N=()=>{var e,n,a;return null===(e=!k&&(null===(n=window)||void 0===n||null===(a=n.navigator)||void 0===a?void 0:a.onLine))||void 0===e||e},W=Promise.resolve(null),C=async(...e)=>{const n=await fetch(...e);if(n.ok)return n.json();throw new Error(n.statusText)};function Y(e,n,a){let t,r,o,l,i,u,s=0,c=!1,d=!1,v=!0;const f=!n&&0!==n&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw new TypeError("Expected a function");function m(n){const a=t,o=r;return t=r=void 0,s=n,l=e.apply(o,a),l}function p(e,n){return f?(window.cancelAnimationFrame(i),window.requestAnimationFrame(e)):setTimeout(e,n)}function g(e){const a=e-u;return void 0===u||a>=n||a<0||d&&e-s>=o}function h(){const e=Date.now();if(g(e))return y(e);i=p(h,function(e){const a=e-s,t=n-(e-u);return d?Math.min(t,o-a):t}(e))}function y(e){return i=void 0,v&&t?m(e):(t=r=void 0,l)}function E(...e){const a=Date.now(),o=g(a);if(t=e,r=this,u=a,o){if(void 0===i)return function(e){return s=e,i=p(h,n),c?m(e):l}(u);if(d)return i=p(h,n),m(u)}return void 0===i&&(i=p(h,n)),l}return n=+n||0,q(a)&&(c=!!a.leading,d="maxWait"in a,o=d?Math.max(+a.maxWait||0,n):o,v="trailing"in a?!!a.trailing:v),E.cancel=function(){void 0!==i&&function(e){if(f)return window.cancelAnimationFrame(e);clearTimeout(e)}(i),s=0,t=u=r=i=void 0},E.flush=function(){return void 0===i?l:y(Date.now())},E.pending=function(){return void 0!==i},E}var P;const Q=new Set,B=new Set,H=new Set,V=(e,n)=>{let a;switch(e){case"FOCUS_LISTENER":a=Q;break;case"RECONNECT_LISTENER":a=H;break;case"VISIBLE_LISTENER":a=B}if(!a.has(n))return a.add(n),()=>{a.delete(n)}},z=e=>{e.forEach((e=>{e()}))};!k&&null!==(P=window)&&void 0!==P&&P.addEventListener&&(window.addEventListener("visibilitychange",(()=>{x()&&z(B)}),!1),window.addEventListener("focus",(()=>z(Q)),!1),window.addEventListener("online",(()=>z(H)),!1));const G=(e,n,a)=>{var t,r,o;const{initialAutoRunFlag:l,initialData:i,loadingDelay:u,pollingInterval:s,debounceInterval:c,throttleInterval:d,pollingWhenHidden:v,pollingWhenOffline:m,errorRetryCount:g,errorRetryInterval:h,stopPollingWhenHiddenOrOffline:y,refreshOnWindowFocus:E,refocusTimespan:w,updateCache:_,formatResult:O,onSuccess:T,onError:b,onBefore:L,onAfter:I}=n,R=f(0),S=f(null!==(t=null==a?void 0:a.loading)&&void 0!==t&&t),j=f(null!==(r=null==a?void 0:a.data)&&void 0!==r?r:i),D=f(null==a?void 0:a.error),K=f(null!==(o=null==a?void 0:a.params)&&void 0!==o?o:[]),A=(M={loading:S,data:j,error:D,params:K},k=[e=>_(e)],e=>{Object.keys(e).forEach((n=>{M[n].value=e[n]})),k.forEach((e=>e(M)))});var M,k;const C=()=>{R.value=0},P=f(0),Q=f(),B=f(),H=f(),z=()=>{Q.value&&Q.value(),H.value&&H.value(),B.value&&B.value()},G=p((()=>{if(h)return h;return 1e3*Math.floor(Math.random()*2**Math.min(R.value,9)+1)})),$=(...n)=>{A({loading:!u,params:n}),H.value=(()=>{let e;return u&&(e=setTimeout(A,u,{loading:!0})),()=>e&&clearTimeout(e)})(),P.value+=1;const a=P.value;return null==L||L(n),e(...n).then((e=>{if(a===P.value){const a=O?O(e):e;return A({data:a,loading:!1,error:void 0}),T&&T(a,n),C(),a}return W})).catch((e=>(a===P.value&&(A({data:void 0,loading:!1,error:e}),b&&b(e,n),console.error(e)),W))).finally((()=>{a===P.value&&(H.value(),B.value=(e=>{let n;const a=-1===g,t=R.value<g;return D.value&&(a||t)&&(a||(R.value+=1),n=setTimeout(e,G.value)),()=>n&&clearTimeout(n)})((()=>$(...n))),Q.value=(e=>{if(D.value&&0!==g)return;let n;if(!U(s)&&s>=0){if(!v&&!x()||!m&&!N())return void(y.value=!0);n=setTimeout(e,s)}return()=>n&&clearTimeout(n)})((()=>$(...n))),null==I||I(n))}))},J=!U(c)&&Y($,c),X=!U(d)&&function(e,n,a){let t=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return q(a)&&(t="leading"in a?!!a.leading:t,r="trailing"in a?!!a.trailing:r),Y(e,n,{leading:t,trailing:r,maxWait:n})}($,d,{leading:!0,trailing:!0}),Z=(...e)=>(z(),!l.value&&J?(J(...e),W):X?(X(...e),W):(C(),$(...e))),ee=()=>Z(...K.value),ne=[],ae=e=>{e&&ne.push(e)},te=()=>{y.value&&(v||x())&&(m||N())&&(ee(),y.value=!1)};v||ae(V("VISIBLE_LISTENER",te)),m||ae(V("RECONNECT_LISTENER",te));const re=((e,n)=>{let a=!1;return(...t)=>{a||(a=!0,e(...t),setTimeout((()=>{a=!1}),n))}})(ee,w);E&&(ae(V("VISIBLE_LISTENER",re)),ae(V("FOCUS_LISTENER",re)));return{loading:S,data:j,error:D,params:K,run:Z,cancel:()=>{P.value+=1,A({loading:!1}),J&&J.cancel(),X&&X.cancel(),z()},refresh:ee,mutate:e=>{const n=F(e)?e(j.value):e;A({data:n})},unmount:()=>{ne.forEach((e=>e()))}}},$=new Map,J=e=>{if(U(e))return;const n=$.get(e);return n?{data:n.data,cacheTime:n.cacheTime}:void 0};function X(e,n){const a=v(S,{}),{initialData:t,pollingInterval:r,debounceInterval:o,throttleInterval:l,cacheKey:s,defaultParams:c=[],manual:d=!1,ready:w=f(!0),refreshDeps:_=[],loadingDelay:O=0,pollingWhenHidden:T=!1,pollingWhenOffline:b=!1,refreshOnWindowFocus:L=!1,refocusTimespan:I=5e3,cacheTime:R=6e5,staleTime:D=0,errorRetryCount:K=0,errorRetryInterval:A=0,queryKey:M,formatResult:q,onSuccess:F,onError:U,onBefore:k,onAfter:x}=i(i(i({},j()),a),n),N=f(!1),C=f(!1),Y={initialAutoRunFlag:C,initialData:t,loadingDelay:O,pollingInterval:r,debounceInterval:o,throttleInterval:l,pollingWhenHidden:T,pollingWhenOffline:b,stopPollingWhenHiddenOrOffline:N,cacheKey:s,errorRetryCount:K,errorRetryInterval:A,refreshOnWindowFocus:L,refocusTimespan:I,updateCache:e=>{var n,a;if(!s)return;const t=null===(n=J(s))||void 0===n?void 0:n.data,r=null==t?void 0:t.queries,o=(e=>{const n={};return Object.keys(e).forEach((a=>{n[a]=E(e[a])})),n})(e),l=null!==(a=null==M?void 0:M(...e.params.value))&&void 0!==a?a:"__QUERY_DEFAULT_KEY__";((e,n,a)=>{const t=$.get(e);null!=t&&t.timer&&clearTimeout(t.timer);const r=setTimeout((()=>$.delete(e)),a);$.set(e,{data:n,timer:r,cacheTime:(new Date).getTime()})})(s,{queries:u(i({},r),{[l]:i(i({},null==r?void 0:r[l]),o)}),latestQueriesKey:l},R)},formatResult:q,onSuccess:F,onError:U,onBefore:k,onAfter:x},P=f(!1),Q=f(),B=f(),H=f(),V=g({__QUERY_DEFAULT_KEY__:g(G(e,Y))}),z=f("__QUERY_DEFAULT_KEY__"),X=p((()=>{var e;return null!==(e=V[z.value])&&void 0!==e?e:{}}));if(m((()=>{P.value=X.value.loading,Q.value=X.value.data,B.value=X.value.error,H.value=X.value.params}),{flush:"sync"}),s){var Z;const n=J(s);null!=n&&null!==(Z=n.data)&&void 0!==Z&&Z.queries&&(Object.keys(n.data.queries).forEach((a=>{const t=n.data.queries[a];V[a]=g(G(e,Y,{loading:t.loading,params:t.params,data:t.data,error:t.error}))})),n.data.latestQueriesKey&&(z.value=n.data.latestQueriesKey))}const ee=f(),ne=f(!1),ae=(...n)=>{var a;if(!w.value&&!ne.value)return ee.value=n,W;const t=null!==(a=null==M?void 0:M(...n))&&void 0!==a?a:"__QUERY_DEFAULT_KEY__";return V[t]||(V[t]=g(G(e,Y))),z.value=t,X.value.run(...n)},te=()=>{Object.keys(V).forEach((e=>{V[e].cancel(),V[e].unmount(),delete V[e]}))};if(!d){var re;C.value=!0;const e=J(s),n=null!==(re=null==e?void 0:e.data.queries)&&void 0!==re?re:{},a=e&&(-1===D||e.cacheTime+D>(new Date).getTime()),t=Object.keys(n).length>0;a||(t?Object.keys(V).forEach((e=>{var n;null===(n=V[e])||void 0===n||n.refresh()})):ae(...c)),C.value=!1}const oe=f();return oe.value=h(w,(e=>{ne.value=!0,e&&ee.value&&(ae(...ee.value),oe.value())}),{flush:"sync"}),_.length&&h(_,(()=>{!d&&X.value.refresh()})),y((()=>{te()})),{loading:P,data:Q,error:B,params:H,cancel:()=>X.value.cancel(),refresh:()=>X.value.refresh(),mutate:e=>X.value.mutate(e),run:ae,reset:()=>{te(),z.value="__QUERY_DEFAULT_KEY__",V.__QUERY_DEFAULT_KEY__=g(G(e,Y))},queries:V}}var Z=e=>{let n;if(F(e))n=(...n)=>{const a=e(...n);let t;if(q(r=a)&&F(r.then)&&F(r.catch))t=a;else if(M(a)){const e=a,{url:n}=e,r=s(e,["url"]);t=C(n,r)}else{if(!A(a))throw new Error("Unknown service type");t=C(a)}var r;return new Promise(((e,n)=>{t.then(e).catch(n)}))};else if(M(e)){const a=e,{url:t}=a,r=s(a,["url"]);n=()=>C(t,r)}else{if(!A(e))throw Error("Unknown service type");n=()=>C(e)}return n};function ee(e,n){var a;if(!F(e))throw new Error("useLoadMore only support function service");const t=Z(e),r=v(S,{}),o=Object.assign({listKey:null!==(a=r.listKey)&&void 0!==a?a:j().listKey},null!=n?n:{}),{queryKey:l,isNoMore:c,listKey:d="list"}=o,g=s(o,["queryKey","isNoMore","listKey"]);if(l)throw new Error("useLoadMore does not support concurrent request");const h=f(!1),y=f(!1),E=f(!1),w=f(0),_=X(t,u(i({},g),{onSuccess:(...e)=>{var n;y.value=!1,w.value++,null==g||null===(n=g.onSuccess)||void 0===n||n.call(g,...e)},onError:(...e)=>{var n;y.value=!1,null==g||null===(n=g.onError)||void 0===n||n.call(g,...e)},queryKey:()=>String(w.value)})),{data:O,params:T,queries:b,run:L,reset:I,cancel:R}=_,D=s(_,["data","params","queries","run","reset","cancel"]),K=f(O.value);m((()=>{void 0!==O.value&&(K.value=O.value)}));const A=p((()=>!(!c||!F(c))&&c(K.value))),M=p((()=>{let e=[];return Object.values(b).forEach((n=>{const a=((e,n,a)=>{const t=n.replace(/\[(\d+)\]/g,".$1").split(".");let r=e;for(const o of t)if(r=Object(r)[o],void 0===r)return a;return r})(n.data,d);a&&Array.isArray(a)&&(e=e.concat(a))})),e}));return i({data:K,dataList:M,params:T,noMore:A,loadingMore:y,refreshing:h,reloading:E,run:L,reload:async()=>{E.value=!0,I(),w.value=0,K.value=void 0;const[,...e]=T.value,n=[void 0,...e];await L(...n),E.value=!1},loadMore:()=>{if(A.value)return;y.value=!0;const[,...e]=T.value,n=[{dataList:M.value,data:K.value},...e];L(...n)},reset:I,refresh:async()=>{h.value=!0;const e=w.value-1,n=e<0?0:e;K.value=b[n].data,w.value=0;const[,...a]=T.value,t=[void 0,...a];await L(...t),Object.keys(b).forEach((e=>{e!==(0).toString()&&(b[e].cancel(),b[e].unmount(),delete b[e])})),h.value=!1},cancel:()=>{R(),y.value=!1,h.value=!1}},function(e,n){const a=Object.assign({},e);for(const t of n)delete a[t];return a}(D,["refresh","mutate"]))}const ne=()=>"https://randomuser.me/api/?results=5&inc=name,gender,email,nat&noinfo";var ae=c({setup(){const{t:e,locale:n}=w(),{dataList:a,loading:t,loadingMore:r,loadMore:o}=ee(ne,{listKey:"results"});return{loading:t,loadingMore:r,dataList:a,loadMore:o,t:e}}});const te=L("a",null,"edit",-1),re=L("a",null,"more",-1),oe={href:"https://www.antdv.com/"},le=L("div",null,"content",-1);ae.render=function(e,n,a,t,r,o){const l=_("a-list-item-meta"),i=_("a-list-item"),u=_("a-list");return O(),T(u,{class:"demo-loadmore-list",loading:e.loading,"item-layout":"horizontal","data-source":e.dataList},{loadMore:b((()=>[L("div",{onClick:n[1]||(n[1]=(...n)=>e.loadMore&&e.loadMore(...n)),style:{textAlign:"center",marginTop:"12px",height:"32px",lineHeight:"32px"}},I(e.t("login")),1)])),renderItem:b((({item:e})=>[L(i,null,{actions:b((()=>[te,re])),default:b((()=>[L(l,{description:"Ant Design, a design language for background applications, is refined by Ant UED Team"},{title:b((()=>[L("a",oe,I(e.name.last),1)])),_:2},1024),le])),_:2},1024)])),_:1},8,["loading","data-source"])};export default ae;
