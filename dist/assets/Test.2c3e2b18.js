var e=Object.defineProperty,n=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(n,t,a)=>t in n?e(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a,i=(e,n)=>{for(var t in n||(n={}))r.call(n,t)&&l(e,t,n[t]);if(a)for(var t of a(n))o.call(n,t)&&l(e,t,n[t]);return e},u=(e,a)=>n(e,t(a)),s=(e,n)=>{var t={};for(var l in e)r.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&a)for(var l of a(e))n.indexOf(l)<0&&o.call(e,l)&&(t[l]=e[l]);return t};import{d as c,aq as d,ar as v,p as f,as as m,U as p,W as g,q as h,a9 as y,at as E,f as w,r as _,j as O,k as T,w as b,l as L,y as I}from"./vendor.825aec79.js";const R={},S=Symbol("GLOBAL_OPTIONS_PROVIDE_KEY"),j=()=>R;c({name:"RequestConfig",props:{config:{type:Object,required:!0}},setup(e,{slots:n}){const{config:t}=e;return d(S,t),()=>{var e;return null===(e=n.default)||void 0===e?void 0:e.call(n)}}});const D=Object.prototype.toString,K=e=>D.call(e),A=e=>"[object String]"===K(e),q=e=>"[object Object]"===K(e),M=e=>null!==e&&"object"==typeof e,F=e=>e instanceof Function,U=e=>null==e,k="undefined"==typeof window,W=()=>{var e,n;return!k&&"visible"===(null===(e=window)||void 0===e||null===(n=e.document)||void 0===n?void 0:n.visibilityState)},x=()=>{var e,n,t;return null===(e=!k&&(null===(n=window)||void 0===n||null===(t=n.navigator)||void 0===t?void 0:t.onLine))||void 0===e||e},N=Promise.resolve(null),C=async(...e)=>{const n=await fetch(...e);if(n.ok)return n.json();throw new Error(n.statusText)};function Y(e,n,t){let a,r,o,l,i,u,s=0,c=!1,d=!1,v=!0;const f=!n&&0!==n&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw new TypeError("Expected a function");function m(n){const t=a,o=r;return a=r=void 0,s=n,l=e.apply(o,t),l}function p(e,n){return f?(window.cancelAnimationFrame(i),window.requestAnimationFrame(e)):setTimeout(e,n)}function g(e){const t=e-u;return void 0===u||t>=n||t<0||d&&e-s>=o}function h(){const e=Date.now();if(g(e))return y(e);i=p(h,function(e){const t=e-s,a=n-(e-u);return d?Math.min(a,o-t):a}(e))}function y(e){return i=void 0,v&&a?m(e):(a=r=void 0,l)}function E(...e){const t=Date.now(),o=g(t);if(a=e,r=this,u=t,o){if(void 0===i)return function(e){return s=e,i=p(h,n),c?m(e):l}(u);if(d)return i=p(h,n),m(u)}return void 0===i&&(i=p(h,n)),l}return n=+n||0,M(t)&&(c=!!t.leading,d="maxWait"in t,o=d?Math.max(+t.maxWait||0,n):o,v="trailing"in t?!!t.trailing:v),E.cancel=function(){void 0!==i&&function(e){if(f)return window.cancelAnimationFrame(e);clearTimeout(e)}(i),s=0,a=u=r=i=void 0},E.flush=function(){return void 0===i?l:y(Date.now())},E.pending=function(){return void 0!==i},E}var P;const Q=new Set,B=new Set,H=new Set,V=(e,n)=>{let t;switch(e){case"FOCUS_LISTENER":t=Q;break;case"RECONNECT_LISTENER":t=H;break;case"VISIBLE_LISTENER":t=B}if(!t.has(n))return t.add(n),()=>{t.delete(n)}},z=e=>{e.forEach((e=>{e()}))};!k&&null!==(P=window)&&void 0!==P&&P.addEventListener&&(window.addEventListener("visibilitychange",(()=>{W()&&z(B)}),!1),window.addEventListener("focus",(()=>z(Q)),!1),window.addEventListener("online",(()=>z(H)),!1));const G=(e,n,t)=>{var a,r,o;const{initialAutoRunFlag:l,initialData:i,loadingDelay:u,pollingInterval:s,debounceInterval:c,throttleInterval:d,pollingWhenHidden:v,pollingWhenOffline:m,errorRetryCount:g,errorRetryInterval:h,stopPollingWhenHiddenOrOffline:y,refreshOnWindowFocus:E,refocusTimespan:w,updateCache:_,formatResult:O,onSuccess:T,onError:b,onBefore:L,onAfter:I}=n,R=f(0),S=f(null!==(a=null==t?void 0:t.loading)&&void 0!==a&&a),j=f(null!==(r=null==t?void 0:t.data)&&void 0!==r?r:i),D=f(null==t?void 0:t.error),K=f(null!==(o=null==t?void 0:t.params)&&void 0!==o?o:[]),A=(q={loading:S,data:j,error:D,params:K},k=[e=>_(e)],e=>{Object.keys(e).forEach((n=>{q[n].value=e[n]})),k.forEach((e=>e(q)))});var q,k;const C=()=>{R.value=0},P=f(0),Q=f(),B=f(),H=f(),z=()=>{Q.value&&Q.value(),H.value&&H.value(),B.value&&B.value()},G=p((()=>{if(h)return h;return 1e3*Math.floor(Math.random()*2**Math.min(R.value,9)+1)})),$=(...n)=>{A({loading:!u,params:n}),H.value=(()=>{let e;return u&&(e=setTimeout(A,u,{loading:!0})),()=>e&&clearTimeout(e)})(),P.value+=1;const t=P.value;return null==L||L(n),e(...n).then((e=>{if(t===P.value){const t=O?O(e):e;return A({data:t,loading:!1,error:void 0}),T&&T(t,n),C(),t}return N})).catch((e=>(t===P.value&&(A({data:void 0,loading:!1,error:e}),b&&b(e,n),console.error(e)),N))).finally((()=>{t===P.value&&(H.value(),B.value=(e=>{let n;const t=-1===g,a=R.value<g;return D.value&&(t||a)&&(t||(R.value+=1),n=setTimeout(e,G.value)),()=>n&&clearTimeout(n)})((()=>$(...n))),Q.value=(e=>{if(D.value&&0!==g)return;let n;if(!U(s)&&s>=0){if(!v&&!W()||!m&&!x())return void(y.value=!0);n=setTimeout(e,s)}return()=>n&&clearTimeout(n)})((()=>$(...n))),null==I||I(n))}))},J=!U(c)&&Y($,c),X=!U(d)&&function(e,n,t){let a=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return M(t)&&(a="leading"in t?!!t.leading:a,r="trailing"in t?!!t.trailing:r),Y(e,n,{leading:a,trailing:r,maxWait:n})}($,d,{leading:!0,trailing:!0}),Z=(...e)=>(z(),!l.value&&J?(J(...e),N):X?(X(...e),N):(C(),$(...e))),ee=()=>Z(...K.value),ne=[],te=e=>{e&&ne.push(e)},ae=()=>{y.value&&(v||W())&&(m||x())&&(ee(),y.value=!1)};v||te(V("VISIBLE_LISTENER",ae)),m||te(V("RECONNECT_LISTENER",ae));const re=((e,n)=>{let t=!1;return(...a)=>{t||(t=!0,e(...a),setTimeout((()=>{t=!1}),n))}})(ee,w);E&&(te(V("VISIBLE_LISTENER",re)),te(V("FOCUS_LISTENER",re)));return{loading:S,data:j,error:D,params:K,run:Z,cancel:()=>{P.value+=1,A({loading:!1}),J&&J.cancel(),X&&X.cancel(),z()},refresh:ee,mutate:e=>{const n=F(e)?e(j.value):e;A({data:n})},unmount:()=>{ne.forEach((e=>e()))}}},$=new Map,J=e=>{if(U(e))return;const n=$.get(e);return n?{data:n.data,cacheTime:n.cacheTime}:void 0};function X(e,n){const t=v(S,{}),{initialData:a,pollingInterval:r,debounceInterval:o,throttleInterval:l,cacheKey:s,defaultParams:c=[],manual:d=!1,ready:w=f(!0),refreshDeps:_=[],loadingDelay:O=0,pollingWhenHidden:T=!1,pollingWhenOffline:b=!1,refreshOnWindowFocus:L=!1,refocusTimespan:I=5e3,cacheTime:R=6e5,staleTime:D=0,errorRetryCount:K=0,errorRetryInterval:A=0,queryKey:q,formatResult:M,onSuccess:F,onError:U,onBefore:k,onAfter:W}=i(i(i({},j()),t),n),x=f(!1),C=f(!1),Y={initialAutoRunFlag:C,initialData:a,loadingDelay:O,pollingInterval:r,debounceInterval:o,throttleInterval:l,pollingWhenHidden:T,pollingWhenOffline:b,stopPollingWhenHiddenOrOffline:x,cacheKey:s,errorRetryCount:K,errorRetryInterval:A,refreshOnWindowFocus:L,refocusTimespan:I,updateCache:e=>{var n,t;if(!s)return;const a=null===(n=J(s))||void 0===n?void 0:n.data,r=null==a?void 0:a.queries,o=(e=>{const n={};return Object.keys(e).forEach((t=>{n[t]=E(e[t])})),n})(e),l=null!==(t=null==q?void 0:q(...e.params.value))&&void 0!==t?t:"__QUERY_DEFAULT_KEY__";((e,n,t)=>{const a=$.get(e);null!=a&&a.timer&&clearTimeout(a.timer);const r=setTimeout((()=>$.delete(e)),t);$.set(e,{data:n,timer:r,cacheTime:(new Date).getTime()})})(s,{queries:u(i({},r),{[l]:i(i({},null==r?void 0:r[l]),o)}),latestQueriesKey:l},R)},formatResult:M,onSuccess:F,onError:U,onBefore:k,onAfter:W},P=f(!1),Q=f(),B=f(),H=f(),V=g({__QUERY_DEFAULT_KEY__:g(G(e,Y))}),z=f("__QUERY_DEFAULT_KEY__"),X=p((()=>{var e;return null!==(e=V[z.value])&&void 0!==e?e:{}}));if(m((()=>{P.value=X.value.loading,Q.value=X.value.data,B.value=X.value.error,H.value=X.value.params}),{flush:"sync"}),s){var Z;const n=J(s);null!=n&&null!==(Z=n.data)&&void 0!==Z&&Z.queries&&(Object.keys(n.data.queries).forEach((t=>{const a=n.data.queries[t];V[t]=g(G(e,Y,{loading:a.loading,params:a.params,data:a.data,error:a.error}))})),n.data.latestQueriesKey&&(z.value=n.data.latestQueriesKey))}const ee=f(),ne=f(!1),te=(...n)=>{var t;if(!w.value&&!ne.value)return ee.value=n,N;const a=null!==(t=null==q?void 0:q(...n))&&void 0!==t?t:"__QUERY_DEFAULT_KEY__";return V[a]||(V[a]=g(G(e,Y))),z.value=a,X.value.run(...n)},ae=()=>{Object.keys(V).forEach((e=>{V[e].cancel(),V[e].unmount(),delete V[e]}))};if(!d){var re;C.value=!0;const e=J(s),n=null!==(re=null==e?void 0:e.data.queries)&&void 0!==re?re:{},t=e&&(-1===D||e.cacheTime+D>(new Date).getTime()),a=Object.keys(n).length>0;t||(a?Object.keys(V).forEach((e=>{var n;null===(n=V[e])||void 0===n||n.refresh()})):te(...c)),C.value=!1}const oe=f();return oe.value=h(w,(e=>{ne.value=!0,e&&ee.value&&(te(...ee.value),oe.value())}),{flush:"sync"}),_.length&&h(_,(()=>{!d&&X.value.refresh()})),y((()=>{ae()})),{loading:P,data:Q,error:B,params:H,cancel:()=>X.value.cancel(),refresh:()=>X.value.refresh(),mutate:e=>X.value.mutate(e),run:te,reset:()=>{ae(),z.value="__QUERY_DEFAULT_KEY__",V.__QUERY_DEFAULT_KEY__=g(G(e,Y))},queries:V}}var Z=e=>{let n;if(F(e))n=(...n)=>{const t=e(...n);let a;if(M(r=t)&&F(r.then)&&F(r.catch))a=t;else if(q(t)){const e=t,{url:n}=e,r=s(e,["url"]);a=C(n,r)}else{if(!A(t))throw new Error("Unknown service type");a=C(t)}var r;return new Promise(((e,n)=>{a.then(e).catch(n)}))};else if(q(e)){const t=e,{url:a}=t,r=s(t,["url"]);n=()=>C(a,r)}else{if(!A(e))throw Error("Unknown service type");n=()=>C(e)}return n};function ee(e,n){var t;if(!F(e))throw new Error("useLoadMore only support function service");const a=Z(e),r=v(S,{}),o=Object.assign({listKey:null!==(t=r.listKey)&&void 0!==t?t:j().listKey},null!=n?n:{}),{queryKey:l,isNoMore:c,listKey:d="list"}=o,g=s(o,["queryKey","isNoMore","listKey"]);if(l)throw new Error("useLoadMore does not support concurrent request");const h=f(!1),y=f(!1),E=f(!1),w=f(0),_=X(a,u(i({},g),{onSuccess:(...e)=>{var n;y.value=!1,w.value++,null==g||null===(n=g.onSuccess)||void 0===n||n.call(g,...e)},onError:(...e)=>{var n;y.value=!1,null==g||null===(n=g.onError)||void 0===n||n.call(g,...e)},queryKey:()=>String(w.value)})),{data:O,params:T,queries:b,run:L,reset:I,cancel:R}=_,D=s(_,["data","params","queries","run","reset","cancel"]),K=f(O.value);m((()=>{void 0!==O.value&&(K.value=O.value)}));const A=p((()=>!(!c||!F(c))&&c(K.value))),q=p((()=>{let e=[];return Object.values(b).forEach((n=>{const t=((e,n,t)=>{const a=n.replace(/\[(\d+)\]/g,".$1").split(".");let r=e;for(const o of a)if(r=Object(r)[o],void 0===r)return t;return r})(n.data,d);t&&Array.isArray(t)&&(e=e.concat(t))})),e}));return i({data:K,dataList:q,params:T,noMore:A,loadingMore:y,refreshing:h,reloading:E,run:L,reload:async()=>{E.value=!0,I(),w.value=0,K.value=void 0;const[,...e]=T.value,n=[void 0,...e];await L(...n),E.value=!1},loadMore:()=>{if(A.value)return;y.value=!0;const[,...e]=T.value,n=[{dataList:q.value,data:K.value},...e];L(...n)},reset:I,refresh:async()=>{h.value=!0;const e=w.value-1,n=e<0?0:e;K.value=b[n].data,w.value=0;const[,...t]=T.value,a=[void 0,...t];await L(...a),Object.keys(b).forEach((e=>{e!==(0).toString()&&(b[e].cancel(),b[e].unmount(),delete b[e])})),h.value=!1},cancel:()=>{R(),y.value=!1,h.value=!1}},function(e,n){const t=Object.assign({},e);for(const a of n)delete t[a];return t}(D,["refresh","mutate"]))}const ne=()=>"https://randomuser.me/api/?results=5&inc=name,gender,email,nat&noinfo";var te=c({setup(){const{t:e,locale:n}=w(),{dataList:t,loading:a,loadingMore:r,loadMore:o}=ee(ne,{listKey:"results"});return{loading:a,loadingMore:r,dataList:t,loadMore:o,t:e}}});const ae=L("a",null,"edit",-1),re=L("a",null,"more",-1),oe={href:"https://www.antdv.com/"},le=L("div",null,"content",-1);te.render=function(e,n,t,a,r,o){const l=_("a-list-item-meta"),i=_("a-list-item"),u=_("a-list");return O(),T(u,{class:"demo-loadmore-list",loading:e.loading,"item-layout":"horizontal","data-source":e.dataList},{loadMore:b((()=>[L("div",{onClick:n[1]||(n[1]=(...n)=>e.loadMore&&e.loadMore(...n)),style:{textAlign:"center",marginTop:"12px",height:"32px",lineHeight:"32px"}},I(e.t("login")),1)])),renderItem:b((({item:e})=>[L(i,null,{actions:b((()=>[ae,re])),default:b((()=>[L(l,{description:"Ant Design, a design language for background applications, is refined by Ant UED Team"},{title:b((()=>[L("a",oe,I(e.name.last),1)])),_:2},1024),le])),_:2},1024)])),_:1},8,["loading","data-source"])};export default te;
