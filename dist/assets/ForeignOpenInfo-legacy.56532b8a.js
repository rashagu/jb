var __vite_style__=document.createElement("style");__vite_style__.innerHTML="#checkbox_from_div[data-v-375ef664] .van-checkbox__label{width:100%}.my_open_range[data-v-375ef664] .van-cell__value{display:flex;justify-content:flex-end;flex-wrap:wrap}.my_open_range[data-v-375ef664] .van-cell__title{width:90%!important}.my_open_range[data-v-375ef664] .van-field__body{width:100%}.my_open_range[data-v-375ef664] .van-checkbox-group{width:100%}#checkbox_from_div[data-v-4bdde92e] .van-checkbox__label{width:100%}.b[data-v-4bdde92e]{background-color:#fa6e35;color:#fff;border:0;border-radius:.15rem;width:44%;margin:0 .1rem}",document.head.appendChild(__vite_style__),System.register(["./index-legacy.fd4b1f36.js","./vendor-legacy.a005ae79.js"],(function(e){"use strict";var t,a,l,n,o,i,s,r,c,m,u,d,h,p,y,g,_,f,b,F,v,C,k,x,w,A,S,G,I,N,D,O,P,R,T,j,E,V,B,U;return{setters:[function(e){t=e.u,a=e.R,l=e.a},function(e){n=e.d,o=e.P,i=e.Q,s=e.aj,r=e.ak,c=e.O,m=e.a4,u=e.aa,d=e.al,h=e.f,p=e.U,y=e.p,g=e.q,_=e.W,f=e.o,b=e.am,F=e.a,v=e.s,C=e.t,k=e.r,x=e.j,w=e.k,A=e.l,S=e.Z,G=e._,I=e.y,N=e.Y,D=e.z,O=e.v,P=e.an,R=e.ah,T=e.ai,j=e.g,E=e.$,V=e.a0,B=e.x,U=e.A}],execute:function(){var L=n({props:{fieldData:{type:Object,default:[]}},components:{Cell:o,CellGroup:i,Checkbox:s,CheckboxGroup:r,Button:c,Form:m,Field:u,Dialog:d},setup(e,{emit:n}){const{t:o}=h(),i=t(),s=p((()=>i.state.myStoreModule1.userData)),r=y([]),c=y({}),m=y({}),u=[],v=y([]),C=y([]),k=y([]),x=y([]);g(r,(t=>{let a=e.fieldData.filter((e=>s.value.F_IsForeignGuest==e.isForeign||3==e.isForeign));n("setCheckAllStatus",!!t.length&&t.length<a.length,t.length===a.length),w.indeterminate=!!t.length&&t.length<a.length,w.checkAll=t.length===a.length}));const w=_({zhName:"",enName:"",value:"",showArea:!1,value2:"",showCalendar:!1});let A=window.localStorage.getItem("userId");f((()=>{a("/gymm/BaseInfoApi/GuestType"+o("lang"),{params:{IsForeign:0}},!1).then((e=>{console.log(e),k.value=e})),a("/gymm/BaseInfoApi/GuestType"+o("lang"),{params:{IsForeign:1}},!1).then((e=>{console.log(e),x.value=e})),a("/gymm/GuestOpenApi/GetGuestOpenKey"+o("lang"),{params:{userId:A}},!1).then((t=>{console.error("boolean"==typeof t),"boolean"==typeof t?r.value=[]:(e.fieldData.forEach((e=>{t.F_OpenKey.indexOf(e.name)<0&&u.push(e.name)})),r.value=t.F_OpenKey.split(",").filter((e=>e)),v.value=t.F_OpenType.split(",").filter((e=>e)))})).catch((e=>{console.log(e)})),a("/gymm/guestmanageapi/GetPageTable"+o("lang"),{params:{page:1,rows:1,queryJson:'{"keyValue":"'+A+'"}'}},!1).then((e=>{let t=e.rows[0];c.value=t;for(let a in t)if(t.hasOwnProperty(a)){let e=a.toLowerCase();w[e]="f_sex"===e?1==t[a]?o("men"):o("women"):"f_birthday"===e?t[a].substr(0,10):t[a]}w.area=t.f_city+t.f_country+t.f_county})).then((e=>{})).catch((()=>{}))}));return b((()=>{C.value=[]})),{checked1:r,onSubmit:function(e){let t=Array.from(e.checkboxGroup);t.indexOf("F_EnglishName")<0&&t.unshift("F_EnglishName"),t.indexOf("F_ChineseName")<0&&t.unshift("F_ChineseName"),t=t.filter((e=>e)),l("/gymm/GuestOpenApi/SaveForm"+o("lang"),{data:{F_GuestId:A,F_OpenKey:t.join(","),F_OpenType:e.opens.join(",")}},!1).then((e=>{"保存成功！"===e&&F({type:"primary",message:o("SubmittedSuccessfully")})}))},state:w,yD:c,onCheckAllChange:()=>{let t=e.fieldData.filter((e=>s.value.F_IsForeignGuest==e.isForeign||3==e.isForeign));r.value.length!==t.length?m.value.toggleAll(!0):m.value.toggleAll()},checkboxGroupRef:m,setUserData:s,checkboxGroupChange:function(e){},t:o,checked:v,checkboxRefs:C,list1:k,list2:x,toggle:e=>{C.value[e].toggle()},onFailed:function(e){console.log(e.errors.map((e=>e.message)).join(".")),d.alert({title:o("Tips"),message:e.errors.map((e=>e.message)).join(".")}).then((()=>{}))}}}});const z=D();v("data-v-375ef664");const K={id:"checkbox_from_div",style:{}},q={style:{padding:"0 0.5rem","background-color":"white"}},M={style:{width:"100%"}},W={key:1,class:"px-3",style:{color:"#969799","font-size":"0.875rem"}},H={class:"my_open_range"},J={class:"py-3",style:{"font-weight":"bold","text-align":"center"}},Q={style:{height:"15rem",overflow:"auto"}},Y={style:{margin:"16px"}};C();const Z=z(((e,t,a,l,n,o)=>{const i=k("Cell"),s=k("Checkbox"),r=k("CheckboxGroup"),c=k("Field"),m=k("CellGroup"),u=k("Button"),d=k("Form");return x(),w(d,{onSubmit:e.onSubmit,onFailed:e.onFailed,style:{position:"relative"}},{default:z((()=>[A("div",K,[A("div",q,[A(c,{name:"checkboxGroup"},{input:z((()=>[A("div",M,[A(r,{modelValue:e.checked1,"onUpdate:modelValue":t[1]||(t[1]=t=>e.checked1=t),onChange:e.checkboxGroupChange,ref:t=>e.checkboxGroupRef=t,style:{width:"100%"}},{default:z((()=>[A(s,{disabled:!0,checked:"",style:{width:"100%"}},{default:z((()=>[A(i,{style:{width:"100%"},title:e.t("ChineseName"),value:e.state.f_chinesename},null,8,["title","value"])])),_:1}),A(s,{disabled:!0,checked:"",style:{width:"100%"}},{default:z((()=>[A(i,{style:{width:"100%"},title:e.t("EnglishName"),value:e.state.f_englishname},null,8,["title","value"])])),_:1}),(x(!0),w(S,null,G(e.fieldData,((t,a)=>(x(),w("div",{key:a},[(e.setUserData.F_IsForeignGuest==t.isForeign||3==t.isForeign)&&["F_ChineseName","F_EnglishName"].indexOf(t.name)<0?(x(),w(s,{key:0,name:t.name,style:{width:"100%"}},{default:z((()=>[A(i,{style:{width:"100%"},title:t.label,value:"collapse"===t.type?"":(e.state[(t.name2||t.name).toLowerCase()]||"")+("f_nativeplacename"===t.name?(e.yD.f_cityname||"")+(e.yD.f_countyname||""):"")||"-"},null,8,["title","value"])])),_:2},1032,["name"])):O("",!0),"collapse"===t.type?(x(),w("div",W,I(e.state[t.name2]||"-"),1)):O("",!0)])))),128))])),_:1},8,["modelValue","onChange"])])])),_:1})])]),A("div",H,[A("div",J,I(e.t("PleaseSelectVisibility")),1),A("div",Q,[A(c,{name:"opens",rules:[{required:!0,message:e.t("PleaseSelectVisibility")}]},{input:z((()=>[A(r,{modelValue:e.checked,"onUpdate:modelValue":t[3]||(t[3]=t=>e.checked=t)},{default:z((()=>[A(m,null,{default:z((()=>[(x(!0),w(S,null,G([...e.list1,...e.list2],((a,l)=>(x(),w(i,{border:!1,clickable:"",key:a.F_Id,title:a.F_Name,onClick:t=>e.toggle(l),style:{width:"100%"}},{value:z((()=>[A(s,{name:a.F_Id,ref:t=>e.checkboxRefs[l]=t,onClick:t[2]||(t[2]=P((()=>{}),["stop"]))},null,8,["name"])])),_:2},1032,["title","onClick"])))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["rules"])])]),A("div",Y,[A(u,{round:"",block:"",type:"primary","native-type":"submit",style:{"background-color":"#FA6E35",color:"white",border:"0","border-radius":"0.15rem"}},{default:z((()=>[N(I(e.t("confirmPublic")),1)])),_:1})])])),_:1},8,["onSubmit","onFailed"])}));L.render=Z,L.__scopeId="data-v-375ef664";var $=n({props:{fieldData:{type:Object,default:[]}},components:{Cell:o,CellGroup:i,Checkbox:s,CheckboxGroup:r,Button:c,Collapse:R,CollapseItem:T,Field:u,Form:m},setup(e,{emit:n}){const{t:o}=h(),i=t(),s=p((()=>i.state.myStoreModule1.userData)),r=y({}),c=_({}),m=y(["1"]),u=y([]);g(u,(t=>{let a=e.fieldData;n("setCheckAllStatus",!!t.length&&t.length<a.length,t.length===a.length),c.indeterminate=!!t.length&&t.length<a.length,c.checkAll=t.length===a.length}));const d=j();let b=window.localStorage.getItem("userId");return f((()=>{a("/gymm/GuestOpenApi/GetGuestOpenKey"+o("lang"),{userid:b},!1).then((e=>{console.log(e,e.split(",")),u.value=e.split(",")})).catch((()=>{})),a("/gymm/guestmanageapi/GetPageTable"+o("lang"),{params:{page:1,rows:1,queryJson:'{"keyValue":"'+b+'"}'}},!1).then((e=>{let t=e.rows[0];for(let a in t)t.hasOwnProperty(a)&&(c[a]="f_companyincorporationtime"===a?t[a].substr(0,10):t[a])})).catch((()=>{}))})),{checked1:u,coll:m,onCheckAllChange:()=>{e.fieldData.filter((e=>s.value.F_IsForeignGuest==e.isForeign||3==e.isForeign)),console.log(u.value.length,e.fieldData.length),u.value.length!==e.fieldData.length?r.value.toggleAll(!0):r.value.toggleAll()},checkboxGroupRef:r,onSubmit:function(e){l("/gymm/GuestOpenApi/SaveForm"+o("lang"),{data:{F_GuestId:b,F_OpenKey:e.checkboxGroup.join(",")}},!1).then((e=>{"保存成功！"===e&&F({type:"primary",message:o("SubmittedSuccessfully")})}))},back:function(){d.go(-1)},state:c,t:o}}});const X=D();v("data-v-4bdde92e");const ee={class:"tab_detail",id:"checkbox_from_div",style:{"background-color":"white",position:"relative"}},te={style:{padding:"0 0.5rem"}},ae={key:0,class:"px-3",style:{color:"#969799","font-size":"0.875rem"}},le={style:{margin:"16px"},class:"d-flex justify-content-between"};C();const ne=X(((e,t,a,l,n,o)=>{const i=k("Cell"),s=k("Checkbox"),r=k("CheckboxGroup"),c=k("Field"),m=k("Button"),u=k("Form");return x(),w(u,{onSubmit:e.onSubmit,style:{position:"relative"}},{default:X((()=>[A("div",ee,[A("div",te,[A(c,{name:"checkboxGroup"},{input:X((()=>[A(r,{modelValue:e.checked1,"onUpdate:modelValue":t[1]||(t[1]=t=>e.checked1=t),ref:t=>e.checkboxGroupRef=t,style:{width:"100%"}},{default:X((()=>[(x(!0),w(S,null,G(e.fieldData,((t,a)=>(x(),w("div",{key:a},[A(s,{name:t.name,style:{width:"100%"}},{default:X((()=>[A(i,{style:{width:"100%"},title:t.label,value:"collapse"===t.type?"":e.state[t.name]||"-"},null,8,["title","value"])])),_:2},1032,["name"]),"collapse"===t.type?(x(),w("div",ae,I(e.state[t.name]||"-"),1)):O("",!0)])))),128))])),_:1},8,["modelValue"])])),_:1})])]),A("div",le,[A(m,{class:"b",round:"",type:"primary","native-type":"submit",style:{}},{default:X((()=>[N(I(e.t("confirmPublic")),1)])),_:1}),A(m,{onClick:e.back,type:"primary","native-type":"submit",style:{width:"30%"}},{default:X((()=>[N(I(e.t("cancel")),1)])),_:1},8,["onClick"])])])),_:1},8,["onSubmit"])}));$.render=ne,$.__scopeId="data-v-4bdde92e";var oe=e("default",n({props:{},components:{Tab:E,Tabs:V,Button:c,InfoFormCheckboxForm:L,FormDetailedCheckboxForm:$},setup(){const{t:e}=h(),t=y("1"),a=y({}),l=y({}),n=y(!0),o=y(!1);const i=y(!0),s=y(!0);return{field:y([{name:"F_ChineseName",isForeign:3,label:e("ChineseName"),type:"text"},{name:"F_EnglishName",isForeign:3,label:e("EnglishName"),type:"text"},{name:"F_Sex",isForeign:3,label:e("gender"),type:"sexSelect"},{name:"F_Country",isForeign:1,label:e("country"),type:"F_Country"},{name:"F_Nationality",name2:"F_NationalityName",isForeign:1,label:e("Continent"),type:"F_Country"},{name:"F_NativePlace",name2:"F_NativePlaceName",isForeign:0,label:e("province"),type:"areaSelect"},{name:"F_City",name2:"F_Cityname",isForeign:0,label:e("city"),type:"areaSelect"},{name:"F_County",name2:"F_Countyname",isForeign:0,label:e("Area"),type:"areaSelect"},{name:"F_Birthday",isForeign:3,label:e("dateOfBirth"),type:"calendar"},{name:"F_FirstPost",isForeign:3,label:e("FirstPost"),type:"text"},{name:"F_SecondPost",isForeign:3,label:e("SecondPost"),type:"text"},{name:"F_GuestLevel",name2:"F_GuestLevelname",isForeign:3,label:e("level"),type:"text"},{name:"F_ProfessionalTitle",isForeign:3,label:e("jobTitle"),type:"text"},{name:"F_GuestType",name2:"f_typename",isForeign:3,label:e("category"),type:"text"},{name:"F_CredentialType",name2:"f_credentialtypename",isForeign:3,label:e("typeOfCertificate"),type:"text"},{name:"F_ChineseResume",name2:"f_chineseresume",isForeign:3,label:e("ChineseResume"),type:"collapse"},{name:"F_EnglishResume",name2:"f_englishresume",isForeign:3,label:e("EnglishCV"),type:"collapse"},{name:"F_Industry",name2:"f_industryname",isForeign:3,label:e("industry"),type:"text"},{name:"F_ResearchArea",name2:"f_researcharea",isForeign:3,label:e("ResearchAreas"),type:"text"},{name:"F_ResearchResult",name2:"f_researchresult",isForeign:3,label:e("ResearchResults"),type:"text"},{name:"F_CompanyChineseName",name2:"f_companychinesename",isForeign:3,label:e("institutionName"),type:"text"},{name:"F_CompanyEnglishName",name2:"f_companyenglishname",isForeign:3,label:e("InstitutionEnglishName"),type:"text"},{name:"F_CompanyIntroduction",isForeign:3,label:e("Introduction"),type:"text"},{name:"F_CompanyCode",isForeign:3,label:e("InstitutionCode"),type:"text"},{name:"F_CompanyIncorporationTime",isForeign:3,label:e("Established"),type:"calendar"},{name:"F_CompanyResearchDirection",isForeign:3,label:e("researchDirection"),type:"text"},{name:"F_CompanyType",isForeign:3,label:e("UnitNature"),type:"text"},{name:"F_CompanyLeader",isForeign:3,label:e("MainLeader"),type:"text"},{name:"F_CompanyWebSite",isForeign:3,label:e("OfficialWebsite"),type:"text"},{name:"F_CompanyAddress",isForeign:3,label:e("HeadquartersAddress"),type:"text"},{name:"F_CompanyPhoneNumber",isForeign:3,label:e("phone"),type:"text"},{name:"F_CompanyFax",isForeign:3,label:e("fax"),type:"text"},{name:"F_CompanyEMail",isForeign:3,label:e("mail"),type:"text"}]),indeterminate:n,onCheckAllChange:e=>{a.value&&(n.value=!1,a.value.onCheckAllChange())},checkAllStatus:o,setCheckAllStatus:function(e,t){n.value=e,o.value=t},indeterminate2:i,onCheckAllChange2:e=>{l.value&&(i.value=!1,l.value.onCheckAllChange())},checkAllStatus2:s,setCheckAllStatus2:function(e,t){i.value=e,s.value=t},infoFormCheckboxForm:a,formDetailedCheckboxForm:l,tabsActive:t,t:e}}}));const ie=D();v("data-v-3be4b331");const se=A("div",{style:{"background-color":"white",height:"1.2rem"}},null,-1),re={class:"bg-white"},ce={class:" d-flex justify-content-between",style:{position:"relative",border:"0","box-shadow":"none",padding:"0 0.6rem 0.5rem 0.6rem",margin:"0 0.8rem","border-bottom":"0.05rem solid #eee"}},me={style:{width:"6.5rem"},class:""},ue={style:{flex:"1"}},de={style:{"font-size":"1rem"}};C();const he=ie(((e,t,a,l,n,o)=>{const i=k("a-checkbox"),s=k("Button"),r=k("InfoFormCheckboxForm");return x(),w(S,null,[se,A("div",re,[A("div",ce,[A("div",me,[B(A(i,{style:{position:"absolute",top:"50%",transform:"translate(0, -50%)"},checked:e.checkAllStatus,"onUpdate:checked":t[1]||(t[1]=t=>e.checkAllStatus=t),indeterminate:e.indeterminate,onChange:e.onCheckAllChange},{default:ie((()=>[N(I(e.t("selectAll")),1)])),_:1},8,["checked","indeterminate","onChange"]),[[U,"1"===e.tabsActive]])]),A("div",ue,[A(s,{size:"small",type:"primary",block:""},{default:ie((()=>[A("span",de,I(e.t("PersonalInformation")),1)])),_:1})])])]),A(r,{onSetCheckAllStatus:e.setCheckAllStatus,ref:t=>e.infoFormCheckboxForm=t,fieldData:e.field},null,8,["onSetCheckAllStatus","fieldData"])],64)}));oe.render=he,oe.__scopeId="data-v-3be4b331"}}}));
