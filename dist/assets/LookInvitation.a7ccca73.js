import{u as e,a,R as t}from"./index.cb39fede.js";import{d as n,O as o,aa as i,a4 as l,ac as s,a5 as r,ae as u,P as m,Q as d,f as c,i as f,g as v,p,h as g,W as y,o as _,a as b,al as h,s as k,t as D,r as w,j as C,k as F,l as S,Z as I,_ as x,y as P,Y as j,x as A,A as M,v as V,z as Y}from"./vendor.825aec79.js";var B=n({props:{},components:{Button:o,Field:i,Form:l,Calendar:s,Popup:r,DatetimePicker:u,Cell:m,CellGroup:d},setup(){const{t:n}=c();e();const o=f(),i=v(),l=p(g().format("H")),s=p([]),r=p({}),u=p(window.localStorage.getItem("userId")),m=y({date:"",time1:"",showPickerDatetime:!1,time2:"",showPickerDatetime2:!1,showCalendar:!1});const d=o.params.f_id;return _((()=>{t("/gymm/ScheduleApi/DetailData"+n("lang"),{params:{keyValue:d}},!1).then((e=>{console.log(e);let a=e[0];Array.isArray(e)&&e[0]?(r.value=a,u.value=window.localStorage.getItem("userId"),s.value=[{name:n("MeetingTime"),value:a.f_starttime.substr(0,16)+" ~ "+a.f_endtime.substr(11,5)},{name:n("MeetingPlace"),value:a.f_invitationplace},{name:n("MeetingFloor"),value:a.f_level},{name:n("MeetingRoom"),value:a.f_site},{name:n("InvitationInformation"),value:a.f_invitationcontent}]):s.value=[]}))})),{onSubmit:function(e){if(!r.value.f_id)return b({type:"warning",message:n("NoInvitationData")});console.log(e),a("/gymm/ScheduleApi/DateSaveForm"+n("lang"),{data:{keyValue:r.value.f_id,queryJson:"2"}},!1).then((e=>{"保存成功！"===e&&h.alert({className:"myDio",title:n("Tips"),confirmButtonColor:"#3388FF",message:n("approved")}).then((()=>{i.push("/guest_meeting")}))})).catch((()=>{}))},refuseFunc:function(){if(!r.value.f_id)return b({type:"warning",message:n("NoInvitationData")});a("/gymm/ScheduleApi/DateSaveForm"+n("lang"),{data:{keyValue:r.value.f_id,queryJson:"5"}},!1).then((e=>{"保存成功！"===e&&h.alert({className:"myDio",title:n("Tips"),confirmButtonColor:"#3388FF",message:n("rejected")}).then((()=>{i.push("/guest_meeting")}))})).catch((()=>{}))},state:m,data:s,onConfirm:e=>{m.date=g(e).format("YYYY-MM-DD"),m.showCalendar=!1},onConfirmDatetime:e=>{m.time1=e,m.showPickerDatetime=!1},minHour:l,onConfirmDatetime2:e=>{m.time2=e,m.showPickerDatetime2=!1},ob:r,f_guestid:u,t:n}}});const N=Y();k("data-v-33cf9d5c");const T={style:{color:"var(--van-field-label-color)"}},R={key:0},q={key:0,style:{margin:"16px"}},z={key:1,style:{margin:"16px"}},G={key:2,class:"d-flex justify-content-between align-items-center",style:{margin:"16px"}},H=S("div",{style:{width:"1rem"}},null,-1);D();const J=N(((e,a,t,n,o,i)=>{const l=w("Cell"),s=w("CellGroup"),r=w("Field"),u=w("Button"),m=w("Form");return C(),F("div",null,[S(m,{onSubmit:e.onSubmit},{default:N((()=>[S(s,null,{default:N((()=>[(C(!0),F(I,null,x(e.data,((a,t)=>A((C(),F(l,{key:t,title:a.name,value:a.value},null,8,["title","value"])),[[M,a.name!==e.t("邀请信息")]]))),128))])),_:1}),S(l,null,{title:N((()=>[S("span",T,P(e.t("InvitationText")),1)])),_:1}),S(r,{modelValue:e.ob.f_invitationcontent,"onUpdate:modelValue":a[1]||(a[1]=a=>e.ob.f_invitationcontent=a),readonly:"",rows:"12",autosize:"",type:"textarea"},null,8,["modelValue"]),e.f_guestid!==e.ob.f_guestid||2==e.ob.f_state||5==e.ob.f_state?(C(),F("div",R,[2==e.ob.f_state?(C(),F("div",q,[S(u,{block:"",type:"primary",disabled:""},{default:N((()=>[j(P(e.t("approved")),1)])),_:1})])):5==e.ob.f_state?(C(),F("div",z,[S(u,{block:"",type:"danger",disabled:""},{default:N((()=>[j(P(e.t("rejected")),1)])),_:1})])):(C(),F("div",G,[A(S(u,{block:"",type:"primary","native-type":"submit"},{default:N((()=>[j(P(e.t("agree")),1)])),_:1},512),[[M,!!e.ob.f_id]]),H,A(S(u,{block:"",type:"danger",onClick:e.refuseFunc},{default:N((()=>[j(P(e.t("Refuse")),1)])),_:1},8,["onClick"]),[[M,!!e.ob.f_id]])]))])):V("",!0)])),_:1},8,["onSubmit"])])}));B.render=J,B.__scopeId="data-v-33cf9d5c";export default B;
