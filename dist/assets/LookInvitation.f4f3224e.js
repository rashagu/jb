import{u as e,a,R as t}from"./index.7496c43c.js";import{d as o,Z as n,af as i,aa as s,ah as l,ab as r,aj as u,W as m,a0 as d,f as c,i as f,g as v,p,h as y,a3 as g,o as _,a as b,aq as h,s as k,t as D,r as w,j as C,k as F,l as S,Q as I,R as x,y as j,U as P,x as A,A as M,v as V,z as B}from"./vendor.f737c1cc.js";var N=o({props:{},components:{Button:n,Field:i,Form:s,Calendar:l,Popup:r,DatetimePicker:u,Cell:m,CellGroup:d},setup(){const{t:o}=c();e();const n=f(),i=v(),s=p(y().format("H")),l=p([]),r=p({}),u=p(window.localStorage.getItem("userId")),m=g({date:"",time1:"",showPickerDatetime:!1,time2:"",showPickerDatetime2:!1,showCalendar:!1});const d=n.params.f_id;return _((()=>{t("/gymm/ScheduleApi/DetailData?keyValue="+d,{},!1).then((e=>{console.log(e);let a=e[0];Array.isArray(e)&&e[0]?(r.value=a,u.value=window.localStorage.getItem("userId"),l.value=[{name:o("MeetingTime"),value:a.f_starttime.substr(0,16)+" ~ "+a.f_endtime.substr(11,5)},{name:o("MeetingPlace"),value:a.f_invitationplace},{name:o("MeetingFloor"),value:a.f_level},{name:o("MeetingRoom"),value:a.f_site},{name:o("InvitationInformation"),value:a.f_invitationcontent}]):l.value=[]}))})),{onSubmit:function(e){if(!r.value.f_id)return b({type:"warning",message:o("NoInvitationData")});console.log(e),a("/gymm/ScheduleApi/DateSaveForm",{data:{keyValue:r.value.f_id,queryJson:"2"}},!1).then((e=>{"保存成功！"===e&&h.alert({className:"myDio",title:o("Tips"),confirmButtonColor:"#3388FF",message:o("approved")}).then((()=>{i.push("/guest_meeting")}))})).catch((()=>{}))},refuseFunc:function(){if(!r.value.f_id)return b({type:"warning",message:o("NoInvitationData")});a("/gymm/ScheduleApi/DateSaveForm",{data:{keyValue:r.value.f_id,queryJson:"5"}},!1).then((e=>{"保存成功！"===e&&h.alert({className:"myDio",title:o("Tips"),confirmButtonColor:"#3388FF",message:o("rejected")}).then((()=>{i.push("/guest_meeting")}))})).catch((()=>{}))},state:m,data:l,onConfirm:e=>{m.date=y(e).format("YYYY-MM-DD"),m.showCalendar=!1},onConfirmDatetime:e=>{m.time1=e,m.showPickerDatetime=!1},minHour:s,onConfirmDatetime2:e=>{m.time2=e,m.showPickerDatetime2=!1},ob:r,f_guestid:u,t:o}}});const R=B();k("data-v-5437a78d");const T={style:{color:"var(--van-field-label-color)"}},Y={key:0},q={key:0,style:{margin:"16px"}},z={key:1,style:{margin:"16px"}},G={key:2,class:"d-flex justify-content-between align-items-center",style:{margin:"16px"}},H=S("div",{style:{width:"1rem"}},null,-1);D();const J=R(((e,a,t,o,n,i)=>{const s=w("Cell"),l=w("CellGroup"),r=w("Field"),u=w("Button"),m=w("Form");return C(),F("div",null,[S(m,{onSubmit:e.onSubmit},{default:R((()=>[S(l,null,{default:R((()=>[(C(!0),F(I,null,x(e.data,((a,t)=>A((C(),F(s,{key:t,title:a.name,value:a.value},null,8,["title","value"])),[[M,a.name!==e.t("邀请信息")]]))),128))])),_:1}),S(s,null,{title:R((()=>[S("span",T,j(e.t("InvitationText")),1)])),_:1}),S(r,{modelValue:e.ob.f_invitationcontent,"onUpdate:modelValue":a[1]||(a[1]=a=>e.ob.f_invitationcontent=a),readonly:"",rows:"12",autosize:"",type:"textarea"},null,8,["modelValue"]),e.f_guestid!==e.ob.f_guestid||2==e.ob.f_state||5==e.ob.f_state?(C(),F("div",Y,[2==e.ob.f_state?(C(),F("div",q,[S(u,{block:"",type:"primary",disabled:""},{default:R((()=>[P(j(e.t("approved")),1)])),_:1})])):5==e.ob.f_state?(C(),F("div",z,[S(u,{block:"",type:"danger",disabled:""},{default:R((()=>[P(j(e.t("rejected")),1)])),_:1})])):(C(),F("div",G,[A(S(u,{block:"",type:"primary","native-type":"submit"},{default:R((()=>[P(j(e.t("agree")),1)])),_:1},512),[[M,!!e.ob.f_id]]),H,A(S(u,{block:"",type:"danger",onClick:e.refuseFunc},{default:R((()=>[P(j(e.t("Refuse")),1)])),_:1},8,["onClick"]),[[M,!!e.ob.f_id]])]))])):V("",!0)])),_:1},8,["onSubmit"])])}));N.render=J,N.__scopeId="data-v-5437a78d";export default N;
